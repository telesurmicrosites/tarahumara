!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Cocoen=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function(){function a(b,c){d(this,a),this.options=e({},a.defaults,c),this.element=b||document.querySelector(".cocoen"),this.init()}return f(a,[{key:"init",value:function(){this.createElements(),this.addEventListeners(),this.dimensions()}},{key:"createElements",value:function(){var a=document.createElement("span");a.className=this.options.dragElementSelector.replace(".",""),this.element.appendChild(a);var b=document.createElement("div"),c=this.element.querySelector("img:first-child");b.appendChild(c.cloneNode(!0)),c.parentNode.replaceChild(b,c),this.dragElement=this.element.querySelector(this.options.dragElementSelector),this.beforeElement=this.element.querySelector("div:first-child"),this.beforeImage=this.beforeElement.querySelector("img")}},{key:"addEventListeners",value:function(){this.element.addEventListener("click",this.onTap.bind(this)),this.element.addEventListener("mousemove",this.onDrag.bind(this)),this.element.addEventListener("touchmove",this.onDrag.bind(this)),this.dragElement.addEventListener("mousedown",this.onDragStart.bind(this)),this.dragElement.addEventListener("touchstart",this.onDragStart.bind(this)),window.addEventListener("mouseup",this.onDragEnd.bind(this)),window.addEventListener("resize",this.dimensions.bind(this))}},{key:"dimensions",value:function(){this.elementWidth=parseInt(window.getComputedStyle(this.element).width,10),this.elementOffsetLeft=this.element.getBoundingClientRect().left+document.body.scrollLeft,this.beforeImage.style.width=this.elementWidth+"px",this.dragElementWidth=parseInt(window.getComputedStyle(this.dragElement).width,10),this.minLeftPos=this.elementOffsetLeft+10,this.maxLeftPos=this.elementOffsetLeft+this.elementWidth-this.dragElementWidth-10}},{key:"onTap",value:function(a){a.preventDefault(),this.leftPos=a.pageX?a.pageX:a.originalEvent.touches[0].pageX,this.requestDrag()}},{key:"onDragStart",value:function(a){a.preventDefault();var b=a.pageX?a.pageX:a.originalEvent.touches[0].pageX,c=this.dragElement.getBoundingClientRect().left+document.body.scrollLeft;this.posX=c+this.dragElementWidth-b,this.isDragging=!0}},{key:"onDragEnd",value:function(a){a.preventDefault(),this.isDragging=!1}},{key:"onDrag",value:function(a){a.preventDefault(),this.isDragging&&(this.moveX=a.pageX?a.pageX:a.originalEvent.touches[0].pageX,this.leftPos=this.moveX+this.posX-this.dragElementWidth,this.requestDrag())}},{key:"drag",value:function(){this.leftPos<this.minLeftPos?this.leftPos=this.minLeftPos:this.leftPos>this.maxLeftPos&&(this.leftPos=this.maxLeftPos);var a=this.leftPos+this.dragElementWidth/2-this.elementOffsetLeft;a/=this.elementWidth;var b=100*a+"%";this.dragElement.style.left=b,this.beforeElement.style.width=b,this.options.dragCallback&&this.options.dragCallback(a)}},{key:"requestDrag",value:function(){window.requestAnimationFrame(this.drag.bind(this))}}]),a}();g.defaults={dragElementSelector:".cocoen-drag",dragCallback:null},b.exports=g},{}]},{},[1])(1)}),!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";!function(a,b){a&&b&&(a.fn.cocoen=function(c){function d(){return new b(this,a.extend({},b.defaults,c))}return this.each(d)})}(window.jQuery,window.Cocoen)},{}]},{},[1]);